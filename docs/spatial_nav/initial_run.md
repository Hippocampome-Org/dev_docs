Initial run instructions
========================

These are instructions for setting up the software for an initial run

## Directory structure

Some additional folders will need to be created that are omitted from the Github files to save storage space. The directories for the project should be ("\*" represents a new directory):

Project directory:
<br>/build_dir \*
<br>/data
<br>/output \*
<br>/output/spikes \*
<br>/results \*
<br>/scripts
<br>/scripts/videos \*
<br>/src
<br>/standalone

The new directories should be located in a place in a user's hard drive where sufficient space for up to gigabytes of results will be stored. Standard running of the simulation will only produce limited megabytes of results output. Running the simulation with neuron monitors that record voltage and current for up to 128 neurons, including running the simulation for hours of simulated time, can result in large results files being created. Users can choose a storage folder for such large data on their machines and create softlinks to the folders in the simulation project directory so that the data will be stored appropriately. This can be especially useful when multiple copies of this project are created for running seperate experiments and a storage location is wanted where sufficient space is availible.

The build_dir directory should be a softlink to were the build directory (as opposed to the project directory) is located for the project in CARLsim.

The output directory will store virtual animal movement position records. A subdirectory "spikes" will be required to be made in this directory. A softlink can be made to where this directory should be stored on a user's computer. 

The results directory will store output files such as spike recordings and neuron reader output. A softlink should be made to where this is located.

The videos directory will store plot videos created by the Matlab software. It can be a softlink to another storage directory.

Build directory:
<br>/data \*
<br>/output \*
<br>/results \*

The data directory should be a softlink to the data folder in the project directory.

The output and results directories should be the same softlinks as in the project folder. A user has the option of making these folders located in the build directory instead of softlinks to another storage location if wanted.

## File structure

Some additional files are needed than what are included in the Github files, and those were omitted to save storage space. Additional files needed:

<br>/data/anim_angles.cpp \*
<br>/data/anim_angles.csv \*
<br>/data/anim_speeds.cpp \*
<br>/data/anim_speeds.csv \*
<br>/data/ext_dir.cpp
<br>/data/ext_dir_initial.cpp
<br>/data/ext_dir_initial_rot_l.cpp
<br>/data/ext_dir_initial_rot_r.cpp
<br>/data/grc_to_in_conns.csv \*
<br>/data/init_firings.cpp
<br>/data/synapse_weights.csv \*

anim_angles.cpp, anim_angles.csv, anim_speeds.cpp, and anim_speeds.csv are reformatted data files that store data on animal movement speeds and angles.

grc_to_in_conns.csv is a file that lists which GrC -> IN layer connections should be present. It can be automatically generated by the simulation but saves time in running the software for it to be precomputed.

synapse_weights.csv is a file that likes weight values for IN -> GrC connections. It is generated through a Matlab weight distribution builder script.

## Install script

To be able to add a new project to CARLsim6 the init_cs6_local.sh script can be run.
This is found in the /scripts/new_proj directory. CARLsim6, as of the time of this writing, does not have a script to automate creating a new project that still works. There was an older script for that but it does not work in the latest version. This script can provide the action of creating a new project but it does not have programming to a point where it checks for preexisting projects of the same name, etc. Therefore it has not yet been added to the main CARLsim code. If one runs it with an issue, e.g., tries to create a project name that already exists, the user must correct the issues that result from that manually.

Running the script is done with:
<br>$ init_cs6_local.sh \<project_name\> \<cs6_project_folder\> \<cs6_build_folder\>.
<br>One should enter the new project name as project_name and include the project and build folders for those variables, e.g., "/home/user/software/CARLsim6/projects". The script will add the project to CARLsim's cmake files and test run the project. It copies the hello_world project code into the new project for initial code. If a user wants to install a new project on a supercomputer the script init_cs6_supcomp.sh is availible.
Grid pattern rotation methods
=============================

This documentation will prodive further information about concepts involved with grid pattern rotations and methods to create them in the simulation.

## Grid pattern rotations in real cells

It can be observed in real cell recordings that rotations are present. This can be observed in plots in this work's article and many other articles. A grid pattern rotation is the rotation of the six grid fields surrounding a center grid field being rotated around an axis positioned at the middle of that center grid field.

## Simulating a rotated pattern

In real cell plots something that can be observed is that a grid field that is partially shown at a border of the plot (e.g., a section of it is cropped at the border) does not have the rest of the field shown at the opposite border. In the network-level theory and algorithm of continuous attractor networks (CAN), for periodic bumps a theoretical idea is that the grid cell neural layer is on a toroidal manifold. The movement of bumps help create what grid fields are created in plots of a grid cell's firing vs. animal location in an environment (physical space plots). In these plots one would expect a field partially on one border to have its other field section appear on the opposite border because the manifold causes the bump to wrap around the tarus. This is considered "wrapping around" the borders.

An approach has been used in the article's work that recreates the real cells not having fields wrap around in physical space plots. This approach uses mapping of animal movement to bump movement to create field firing that avoids the wrapping around. In the CAN model, the bumps are intended to follow the movement of the animal. Physical space plots are generated by recording the movements of bumps over a single neuron. Fields of firing are recorded from the selected neuron because of the periodic occurence of bumps in the neural layer.

Mapping movement of an animal to a level of movement of bumps can cause the movement of an animal in an environment not to span the full length of a neural layer. Movement (at a set angle) across the full neural layer causes the bump to loop back around to where it started. This causes a physical space plot of grid fields produced from the movement to have the fields wrapping around the edges of the plot appearance. Mapping the movement of the animal to span a subsection of the full neural layer causes the fields that are produced to potentially avoid that wrapping around the borders of the physical space plot appearance.

Another factor considered in avoiding the wrapping appearance is the bounds of the plotted area. Bounds in this case refers to what is designated as the units on the x- and y-axes. For example, in a 30x30 cm environment, the motion of bumps may span 20x20 neurons in the sense that the center of any bump travels no more than 20x20 neurons in the neural layer. Where in the neural layer, which could be any size, but per se is 30x30 neurons, this 20x20 space of movement occurs could be in theory any 20x20 space in the layer. For plotting purposes this is relevant because wrapping around of fields could appear in plots if the plot considered halfway through the 20x20 space to be the border of the plotted area. Where to designate such borders of the plotted area is however arbitrary because the manifold is a torus. The movement of bumps looping around the manifold means that there are no true "borders" in the neural layer. Therefore, that 20x20 area can be positioned in a space in the layer that avoids the appearance of fields wrapping for the purposes of plotting.

The appearance of fields wrapping around can be avoided by having the space of bump movement set to the subsection of the total layer, and therefore in the plots avoids capturing bump movement over a recorded neuron that is at the arbitrarily defined "borders" of the neural layer. Borders in this sense are the minimum and maximum neuron soma position in 3d space in the layer when the layer is plotted as a 2d plot. These are arbitrary designations due to how the layer loops around in the toroidal manifold. This concept is shown in Fig 1.

